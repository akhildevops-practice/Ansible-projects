Day-02 | Ansible Passwordless Authentication | Inventory | Adhoc commands


1. INSTALL WSL INTO LOACL PC AND CREATE AN UBUNTU EC2 INSTANCE 
2. IN WSL GENERATE SSH-KEYGEN 
ssh-copy-id -f "-o IdentityFile <PATH TO PEM FILE>" ubuntu@<INSTANCE-PUBLIC-IP>
ssh-copy-id: This is the command used to copy your public key to a remote machine.
-f: This flag forces the copying of keys, which can be useful if you have keys already set up and want to overwrite them.
"-o IdentityFile ": This option specifies the identity file (private key) to use for the connection. The -o flag passes this option to the underlying ssh command.
ubuntu@: This is the username (ubuntu) and the IP address of the remote server you want to access.


3. IF WE GET AN ERROR OF PERMISSION DENIED OR SSH ISSUES 

The "Permission denied (publickey)" error typically occurs because the SSH key is not being recognized by the server. Here are steps to troubleshoot and resolve this issue:



Since you're using Windows, the command chmod is not directly available. However, you can still use SSH to connect to your EC2 instance via WSL (Windows Subsystem for Linux) or by using an SSH client like PuTTY.

Using WSL (Windows Subsystem for Linux)
Move the Key Pair to WSL

First, move your .pem file to your WSL environment. You can copy the .pem file from the Windows file system to the WSL file system:
++++++++++++ cp /mnt/c/Users/N.AKHIL\ PRABHU/Downloads/your_key_pair.pem ~/  ++++++++++++++++++++++++
++++++++++++++++++++++++++++++++++++=The command cp /mnt/c/Users/N.AKHIL\ PRABHU/Downloads/your_key_pair.pem ~/ is a Unix shell command used to copy a file from one location to another. Here's a breakdown of each part of the command:

cp: This is the copy command in Unix/Linux. It is used to copy files or directories from one location to another.

/mnt/c/Users/N.AKHIL\ PRABHU/Downloads/your_key_pair.pem: This is the source file path.

/mnt/c/: This indicates that the file is on the C: drive of a Windows system. This is typical in environments like Windows Subsystem for Linux (WSL), where Linux can access Windows files.
Users/N.AKHIL\ PRABHU/Downloads/: This is the directory path to the file. Note the use of a backslash (\) before the space in N.AKHIL PRABHU. This is to escape the space character, so it is interpreted correctly as part of the directory name.
your_key_pair.pem: This is the name of the file being copied.
~/: This is the destination path. The tilde (~) is a shortcut for the current user's home directory. So, ~/ indicates that the file should be copied to the home directory of the current user.

In summary, this command copies the file your_key_pair.pem from the specified directory on the C: drive of a Windows system to the home directory of the current user in a Unix/Linux environment.++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



4. chmod 400 ~/your_key_pair.pem

5. ssh -i ~/practicekey.pem ubuntu@13.232.36.181

[ubuntu]
13.232.36.181 ansible_user=ubuntu ansible_ssh_private_key_file=~/practicekey.pem



NODE-2

1. sudo vim /etc/ssh/sshd_config.d/60-cloudimg-settings/conf
edit to enable password yes

2. create a user 
